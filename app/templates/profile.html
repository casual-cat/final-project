{% extends 'base.html' %}
{% block content %}
<div class="card p-4 shadow mx-auto" style="max-width: 600px; margin-top: 30px;">
  <h2 class="mb-3 text-center">Your Profile</h2>
  <form method="POST" enctype="multipart/form-data">
    <div class="mb-3 text-center">
      {% if current_user.avatar_filename %}
      <img src="{{ url_for('main.uploaded_file', filename=current_user.avatar_filename) }}" 
           alt="Profile Picture" width="120" height="120" 
           class="rounded-circle border shadow-sm mb-3">
      {% else %}
      <img src="{{ url_for('static', filename='css/default-avatar.png') }}" 
           alt="Default Avatar" width="120" height="120" 
           class="rounded-circle border shadow-sm mb-3">
      {% endif %}
      <p class="text-muted">Upload a new profile picture:</p>
      <input class="form-control" type="file" name="avatar" id="avatar" />
    </div>
    <div class="mb-3">
      <label for="username" class="form-label">New Username</label>
      <input class="form-control" type="text" name="username" id="username" placeholder="{{ current_user.username }}" />
    </div>
    <div class="mb-3">
      <label for="password" class="form-label">New Password</label>
      <input class="form-control" type="password" name="password" id="password" />
    </div>
    <button class="btn btn-primary w-100" type="submit">Update Profile</button>
  </form>
</div>
{% endblock %}
